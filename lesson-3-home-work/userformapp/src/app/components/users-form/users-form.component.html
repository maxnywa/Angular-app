<div class="container">
  <form novalidate (ngSubmit)="onSubmit(form)" #form="ngForm">
    <div class="form-group">
      <label for="name">Name</label>
      <input
        type="text"
        id="name"
        class="form-control"
        minlength="2"
        name="name"
        ngModel
        #name="ngModel"
        [ngClass]="{'is-invalid': name.errors && form.submitted}"
        required
      >
      <div class="invalid-feedback" [hidden]="!name.errors?.required">Name is required</div>
      <div class="invalid-feedback" [hidden]="!name.errors?.minlength">Name must be at least 2 chars</div>
    </div>
    <div class="form-group">
      <label for="email">Email address</label>
      <input
        type="email"
        class="form-control"
        id="email"
        placeholder="name@example.com"
        name="email"
        ngModel
        #email="ngModel"
        [ngClass]="{'is-invalid': (email.errors && form.submitted)}"
        required
        pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
      >
      <div class="invalid-feedback" [hidden]="!email.errors?.pattern">E-mail is not valid</div>
      <div class="invalid-feedback" [hidden]="!email.errors?.required">mail is required</div>
    </div>
    <div class="form-group">
      <label for="age">Age</label>
      <input
        type="number"
        id="age"
        class="form-control"
        ngModel
        #age="ngModel"
        [ngClass]="{'is-invalid': age.errors && form.submitted}"
        name="age"
        required
        pattern="/^(?:1(?:0{1,2}|\d)|[2-5]\d|[6-9]\d?)$/"
      >
      <div class="invalid-feedback" [hidden]="!age.errors?.required">Age is required</div>
      <div class="invalid-feedback" [hidden]="!age.errors?.pattern">Type real age</div>
    </div>
    <div class="form-group">
      <label for="phoneNumber">Phone Number</label>
      <input
        type="number"
        id="phoneNumber"
        class="form-control"
        ngModel
        #phoneNumber="ngModel"
        [ngClass]="{'is-invalid': phoneNumber.errors && form.submitted}"
        name="phoneNumber"
        required
        pattern="[0-3]{10}"
        placeholder="0501234567"
      >
      <div class="invalid-feedback" [hidden]="!phoneNumber.errors?.required">Phone is required</div>
      <div class="invalid-feedback" [hidden]="!phoneNumber.errors?.pattern">Wrong phone format </div>
    </div>
    <div class="form-group">
      <label for="comments">Example textarea</label>
      <textarea
        class="form-control"
        id="comments"
        rows="3"
        minlength="10"
        name="comments"
        ngModel
        #comments="ngModel"
        [ngClass]="{'is-invalid': comments.errors && form.submitted}"
        required

      ></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Add</button>
  </form>
  <h3 class="mt-5 mb-3">Users</h3>
  <table class="table">
    <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Name</th>
      <th scope="col">E-mail</th>
      <th scope="col">Age</th>
      <th scope="col">Phone Number</th>
      <th scope="col">Comments</th>
      <th scope="col">Delete</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let user of users">
      <th scope="row">{{user.id}}</th>
      <td>{{user.name}}</td>
      <td>{{user.email}}</td>
      <td>{{user.age}}</td>
      <td>{{user.phoneNumber}}</td>
      <td>{{user.text}}</td>
      <td><button class="btn btn-outline-danger" (click)="onDeleteUser(user.id)">X</button></td>
    </tr>

    </tbody>
  </table>

</div>
